<nav class="header bg-[#94C973] fixed w-full top-0 z-10 shadow-lg">
    <div class="container mx-auto flex font-raleway font-medium justify-between items-center py-3 md:py-4 px-4 md:px-6">
        <div class="flex items-center justify-between w-full md:w-auto">
            <a href="/" class="flex items-center">
                <span class="text-lg md:text-2xl font-bold text-white tracking-wide logo-text">ManganRek!</span>
            </a>
  
            <button id="mobile-menu-button" class="md:hidden text-white" onclick="toggleMobileMenu()">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
  
        <div class="hidden md:flex module-buttons items-center text-white gap-8 pl-14">
            <a class="nav-btn relative after:content-[''] after:bg-white after:h-[2px] after:w-[0%] after:left-0 after:-bottom-[5px] after:rounded-xl after:absolute after:duration-300 hover:after:w-full" href="/restoran-makanan">Rumah Makan</a>
            <a class="nav-btn relative after:content-[''] after:bg-white after:h-[2px] after:w-[0%] after:left-0 after:-bottom-[5px] after:rounded-xl after:absolute after:duration-300 hover:after:w-full" href="/favorit">Favorit</a>
            <a class="nav-btn relative after:content-[''] after:bg-white after:h-[2px] after:w-[0%] after:left-0 after:-bottom-[5px] after:rounded-xl after:absolute after:duration-300 hover:after:w-full" href="/review">Review</a>
            <a class="nav-btn relative after:content-[''] after:bg-white after:h-[2px] after:w-[0%] after:left-0 after:-bottom-[5px] after:rounded-xl after:absolute after:duration-300 hover:after:w-full" href="/promo-diskon">Promo</a>
        </div>
  
        {% if user.is_authenticated %}
        <div id="user-dropdown" class="hidden md:block relative z-20">
            <button class="text-white" onclick="toggleDropdown(window.innerWidth <= 768)">
                <div class="flex gap-0.5 md:gap-2 items-center">
                    <div class="bg-white rounded-full p-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#94C973" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                        </svg>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                        <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                    </svg>
                </div>
            </button>
            <ul id="dropdown-content" class="hidden absolute right-0 rounded-lg z-20 shadow-md bg-white"> 
                <li>               
                    <p class="w-40 text-sm md:text-base py-3 px-4">{{ user.username }}</p>
                </li>
                <li class="hover:bg-[#b1d8b7] ">
                    <a class="block whitespace-no-wrap w-40 text-sm py-3 px-4" href="/profil">Profil Saya</a>
                </li>
                <li class="hover:bg-[#b1d8b7] ">
                    <a class="block whitespace-no-wrap w-40 text-sm py-3 px-4" href="/auth/logout">Keluar</a>
                </li>
            </ul>
        </div>
        {% else %}
        <div class="hidden md:flex text-white gap-8">
            <button>
                <a class="nav-btn relative after:content-[''] after:bg-white after:h-[2px] after:w-[0%] after:left-0 after:-bottom-[5px] after:rounded-xl after:absolute after:duration-300 hover:after:w-full" href="/auth/login">Masuk</a>
            </button>
            <button class="bg-white text-[#94C973] px-4 py-2 rounded-lg hover:bg-[#b1d8b7] hover:text-white transition-colors duration-300">
                <a href="/auth/register">Daftar</a>
            </button>
        </div>
        {% endif %}
    </div>
  
    <div id="mobile-menu" class="hidden md:hidden bg-[#94C973] w-full">
        <div class="px-4 pt-2 pb-4 space-y-3">
            {% if user.is_authenticated %}
            <div class="py-2 border-b border-white/20 mb-2">
                <div class="flex items-center gap-2 mb-2">
                    <div class="bg-white rounded-full p-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#94C973" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                        </svg>
                    </div>
                    <span class="text-white font-medium">{{ user.username }}</span>
                </div>
                <a href="/profil" class="block text-white py-2 hover:bg-white/10 rounded-lg px-3 transition-colors duration-300">Profil Saya</a>
            </div>
            {% endif %}
            
            <a href="/restoran-makanan" class="block text-white py-2 hover:bg-white/10 rounded-lg px-3 transition-colors duration-300">Rumah Makan</a>
            <a href="/favorit" class="block text-white py-2 hover:bg-white/10 rounded-lg px-3 transition-colors duration-300">Favorit</a>
            <a href="/review" class="block text-white py-2 hover:bg-white/10 rounded-lg px-3 transition-colors duration-300">Review</a>
            <a href="/promo-diskon" class="block text-white py-2 hover:bg-white/10 rounded-lg px-3 transition-colors duration-300">Promo</a>
            
            {% if not user.is_authenticated %}
            <div class="pt-2 border-t border-white/20">
                <a href="/auth/login" class="block text-white py-2 hover:bg-white/10 rounded-lg px-3 transition-colors duration-300">Masuk</a>
                <a href="/auth/register" class="block bg-white text-[#94C973] py-2 px-4 rounded-lg text-center hover:bg-[#b1d8b7] hover:text-white transition-colors duration-300 mt-2">Daftar</a>
            </div>
            {% else %}
            <div class="pt-2 border-t border-white/20">
                <a href="/auth/logout" class="block bg-white text-[#94C973] py-2 px-4 rounded-lg text-center hover:bg-[#b1d8b7] hover:text-white transition-colors duration-300 mt-2">Keluar</a>
            </div>
            {% endif %}
        </div>
    </div>
  </nav>
  
  <!-- Add padding to the body or main content to prevent content from hiding behind the fixed navbar -->
  <style>
  body {
    padding-top: 4rem; /* Adjust this value based on your navbar height */
  }
  
  @media (min-width: 768px) {
    body {
        padding-top: 5rem; /* Adjust for larger screens if needed */
    }
  }
  </style>
  
  <script>
    function toggleMobileMenu() {
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenu.classList.toggle('hidden');
    }
    
    function toggleDropdown(isMobile) {
        const dropdownContent = document.getElementById('dropdown-content');
        dropdownContent.classList.toggle('hidden');
        
        if (isMobile) {
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenu.classList.contains('hidden')) {
                toggleMobileMenu();
            }
        }
    }
    
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('user-dropdown');
        const dropdownContent = document.getElementById('dropdown-content');
        
        if (!dropdown.contains(event.target)) {
            dropdownContent.classList.add('hidden');
        }
    });
  </script> 